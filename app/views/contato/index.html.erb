<div class="container">
	<div class="page-header" style="margin:0;">
    	<h2>Contato</h2>
	</div>
</div>
<div class="container">
	<%= form_tag('/contato', :id => 'formContato', method: :post) do -%>
		<div id="msgError" class="alert alert-danger" role="alert" style="display:none;">
				  <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
				  <span class="sr-only">Erro:</span>
				  Ocorreu um erro, tente novamente
		</div>
		<div id="msgOk" class="alert alert-success" role="alert" style="display:none;">
				  <span class="glyphicon glyphicon-ok-sign" aria-hidden="true"></span>
				  <span class="sr-only">Sucesso:</span>
				  Contato enviado com sucesso.
		</div>
	<fieldset>
		<div class="form-group">
			<label>Nome:</label>
			<input class="form-control" type="text" name="nome">
		</div>
		<div class="form-group">
			<label>E-mail:</label>
			<input class="form-control" type="text" name="email">
		</div>
		<div class="form-group">
			<label>Mensagem:</label>
			<textarea class="form-control" type="text" name="mensagem"></textarea>
		</div>
		<p><input type="submit" class="btn btn-primary" value="Enviar" name=""></p>
	</fieldset>
	<% end -%>
</div>
<script>
  $("#formContato").submit(function(e) {
  	$.ajax({
        type: "POST",
        url: "/contato",
        data: $(this).serialize(),
        success: function(data){
        	$("#msgError,#msgOk").css("display","none");

            if(data.saveReg)
            	$("#msgOk").css("display","block");
            else
            	$("#msgError").css("display","block");

        }
    });
    e.preventDefault();
});
</script>